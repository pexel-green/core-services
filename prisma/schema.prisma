datasource db {
    provider = "sqlserver"
    url      = env("DATABASE_URL")
}

model User {
    id        String   @id @default(uuid())
    name      String
    email     String   @unique
    type      Int      @default(1)
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    containers Container[]
}

model ContainerType {
    id   String @id @default(uuid())
    name String

    containers Container[]
}

model Container {
    id    String @id @default(uuid())
    type  Int    @default(1)
    blobs Blob[]

    User            User          @relation(fields: [userId], references: [id], onDelete: NoAction, onUpdate: Cascade)
    userId          String
    ContainerType   ContainerType @relation(fields: [containerTypeId], references: [id], onDelete: NoAction, onUpdate: Cascade)
    containerTypeId String
}

model Blob {
    id        String @id @default(uuid())
    name      String
    extension String
    type      Int    @default(1)
    size      Int

    Container   Container @relation(fields: [containerId], references: [id], onDelete: Cascade, onUpdate: Cascade)
    containerId String
}
